# é¢å‘å¯¹è±¡åŸºç¡€

## ç±»ä¸å®ä¾‹

`class`æ˜¯ä¸€ç§å¯¹è±¡æ¨¡æ¿, ä¾æ®æ­¤æ¨¡æ¿åˆ›å»ºå‡ºæ¥çš„å¯¹è±¡å«å®ä¾‹`instance`

### åˆ›å»ºå®ä¾‹

å®šä¹‰ä¸€ä¸ªå¼•ç”¨ç±»å‹çš„å˜é‡æ¥æŒ‡å‘è¿™ä¸ªå®ä¾‹

```java
Person eugene = new Person();
```

å³å£°æ˜ä¸€ä¸ª `Person`ç±»å‹çš„å˜é‡ `eugene`, ç”¨å…¶æŒ‡å‘ä¸€ä¸ª `Person()`å®ä¾‹. 

> ğŸ“Œ ä¸€ä¸ª `Java`æºæ–‡ä»¶å¯ä»¥åŒ…å«å¤šä¸ªç±»çš„å®šä¹‰, ä½†åªèƒ½å®šä¹‰ä¸€ä¸ª `public`ç±», ä¸” `public`ç±»åå¿…é¡»ä¸æ–‡ä»¶åä¸€è‡´. å¦‚æœè¦å®šä¹‰å¤šä¸ª`public`ç±», å¿…é¡»æ‹†åˆ°å¤šä¸ª`Java`æºæ–‡ä»¶ä¸­. 

## æ–¹æ³•

ç±»çš„å‡½æ•°. 

ä¸€ä¸ªç±»é€šè¿‡å®šä¹‰æ–¹æ³•, å¯ä»¥ç»™å¤–éƒ¨ä»£ç æš´éœ²ä¸€äº›æ“ä½œçš„æ¥å£, åŒæ—¶å†…éƒ¨è‡ªå·±ä¿è¯é€»è¾‘ä¸€è‡´æ€§. 

### `this` å˜é‡

è‹¥å‚æ•°ä¸ç±»æœ¬èº«çš„ `å­—æ®µ (field)` é‡å, åˆ™å¯ç”¨ `this` å˜é‡æŒ‡å‘ç±»æœ¬èº«çš„å­—æ®µ. 

```java
class Person {
    private String name;
    public void setName(String name) {
        // åŒºåˆ†å‚æ•°å˜é‡ä¸ç±»çš„å­—æ®µ. 
        this.name = name;
    }
}
```

### å¯å˜å‚æ•°

`ç±»å‹...` è¯­æ³•ç”¨äºå®šä¹‰ä¸å®šé•¿çš„å‚æ•°. ç›¸å½“äºæ•°ç»„ç±»å‹. 

```java
class Group {
    private String[] names;

    public void setNames(String... names) {
        this.names = names;
    }
}

// è°ƒç”¨æ—¶å¯ä»¥ç›´æ¥ä¼ å…¥ä¸å®šé•¿çš„å‚æ•°: 
Group group = new Group();
group.setNames("Xiao Ming", "Xiao Hong", "Xiao Jun");

```

> ğŸ“Œå¯å˜å‚æ•°å¯ä»¥ä¿è¯æ— æ³•ä¼ å…¥`null`ï¼Œå› ä¸ºä¼ å…¥0ä¸ªå‚æ•°æ—¶ï¼Œæ¥æ”¶åˆ°çš„å®é™…å€¼æ˜¯ä¸€ä¸ªç©ºæ•°ç»„è€Œä¸æ˜¯`null`. 

> ğŸ“Œé™¤äº†åŸºæœ¬ç±»å‹ä¹‹å¤–çš„æ‰€æœ‰ç±»å‹, åŒ…æ‹¬æ•°ç»„çš„èµ‹å€¼, éƒ½æ˜¯å¼•ç”¨ä¼ é€’. 
>
> Javaå®šä¹‰äº†ä»¥ä¸‹å‡ ç§åŸºæœ¬æ•°æ®ç±»å‹ï¼š
> 
> æ•´æ•°ç±»å‹ï¼šbyteï¼Œshortï¼Œintï¼Œlong
> 
> æµ®ç‚¹æ•°ç±»å‹ï¼šfloatï¼Œdouble
> 
> å­—ç¬¦ç±»å‹ï¼šchar
> 
> å¸ƒå°”ç±»å‹ï¼šboolean

## æ„é€ æ–¹æ³•

åˆ›å»ºå¯¹è±¡å®ä¾‹æ—¶, é€šè¿‡æ„é€ æ–¹æ³•åˆå§‹åŒ–å®ä¾‹. 

```java
class Person {
    private String name;
    private int age;

    public Person(String name, int age) {
        this.name = name;
        this.age = age;
    }
}
```

### åˆå§‹åŒ–é¡ºåº

è‹¥åœ¨å®šä¹‰å­—æ®µæ—¶ç›´æ¥è¿›è¡Œåˆå§‹åŒ–, åŒæ—¶åœ¨æ„é€ æ–¹æ³•ä¸­å¯¹å­—æ®µåˆå§‹åŒ–, åˆ™æœ€ç»ˆç»“æœä¸æ„é€ æ–¹æ³•ä¸­çš„ä¸€è‡´. 

```java
class Person {
    private String name = "Unamed";
    private int age = 10;

    public Person(String name, int age) {
        this.name = name;
        this.age = age;
    }
}
```

1.  å…ˆåˆå§‹åŒ–å­—æ®µï¼Œä¾‹å¦‚ `int age = 10;` è¡¨ç¤ºå­—æ®µåˆå§‹åŒ–ä¸º `10`; `double salary;` è¡¨ç¤ºå­—æ®µé»˜è®¤åˆå§‹åŒ–ä¸º `0`; `String name;` è¡¨ç¤ºå¼•ç”¨ç±»å‹å­—æ®µé»˜è®¤åˆå§‹åŒ–ä¸º `null`ï¼›

2.  æ‰§è¡Œæ„é€ æ–¹æ³•çš„ä»£ç è¿›è¡Œåˆå§‹åŒ–ã€‚

### å¤šæ„é€ æ–¹æ³•

ä¸€ä¸ªæ„é€ æ–¹æ³•è°ƒç”¨å…¶ä»–æ„é€ æ–¹æ³•çš„è¯­æ³•æ˜¯ `this(â€¦)`

```java
class Person {
    private String name;
    private int age;

    public Person(String name, int age) {
        this.name = name;
        this.age = age;
    }

    public Person(String name) {
        this(name, 18); // è°ƒç”¨å¦ä¸€ä¸ªæ„é€ æ–¹æ³•Person(String, int)
    }

    public Person() {
        this("Unnamed"); // è°ƒç”¨å¦ä¸€ä¸ªæ„é€ æ–¹æ³•Person(String)
    }
}
```

## æ–¹æ³•é‡è½½ `Overload`

è‹¥å¤šä¸ªæ–¹æ³•**åå­—ç›¸åŒå‚æ•°ä¸åŒ**, åˆ™è¿™äº›æ–¹æ³•å«åŒåæ–¹æ³•. 

`String` ç±»æä¾›äº†å¤šä¸ªé‡è½½æ–¹æ³• `indexOf()`ï¼Œå¯ä»¥æŸ¥æ‰¾å­ä¸²ï¼š

*   `int indexOf(int ch)`ï¼šæ ¹æ®å­—ç¬¦çš„Unicodeç æŸ¥æ‰¾ï¼›

*   `int indexOf(String str)`ï¼šæ ¹æ®å­—ç¬¦ä¸²æŸ¥æ‰¾ï¼›

*   `int indexOf(int ch, int fromIndex)`ï¼šæ ¹æ®å­—ç¬¦æŸ¥æ‰¾ï¼Œä½†æŒ‡å®šèµ·å§‹ä½ç½®ï¼›

*   `int indexOf(String str, int fromIndex)`æ ¹æ®å­—ç¬¦ä¸²æŸ¥æ‰¾ï¼Œä½†æŒ‡å®šèµ·å§‹ä½ç½®ã€‚

> ğŸ“Œæ–¹æ³•é‡è½½çš„è¿”å›å€¼ç±»å‹é€šå¸¸éƒ½æ˜¯ç›¸åŒçš„. 

## ç»§æ‰¿

å­ç±»è·å¾—çˆ¶ç±»çš„æ‰€æœ‰åŠŸèƒ½, ä¸”å­ç±»å¯ä»¥æ‹¥æœ‰æ–°å¢æˆ–æ›´æ”¹åçš„åŠŸèƒ½. 

```java
/*
 * çˆ¶ç±», æä¾›åŸºç¡€çš„å±æ€§ä¸æ–¹æ³•. 
 * */
class Person {
    private String name;
    private int age;

    public String getName() {...}

    public void setName(String name) {...}

    public int getAge() {...}

    public void setAge(int age) {...}
}

/*
 * å­ç±», ç»§æ‰¿çˆ¶ç±»çš„å±æ€§ä¸æ–¹æ³•åå¯ä»¥æ–°å¢å±äºè‡ªå·±çš„å±æ€§å’Œæ–¹æ³•. 
 * */
class Student extends Person {
    // ä¸è¦é‡å¤nameå’Œageå­—æ®µ/æ–¹æ³•,
    // åªéœ€è¦å®šä¹‰æ–°å¢scoreå­—æ®µ/æ–¹æ³•:
    private int score;

    public int getScore() { â€¦ }

    public void setScore(int score) { â€¦ }
}
```

çˆ¶ç±» (`parent class`), åˆç§°è¶…ç±» (`super class`), åŸºç±» (`base class`); 

å­ç±» (`subclass`), åˆç§°æ‰©å±•ç±» (`extended class`). 

> ğŸ“Œå­ç±»è‡ªåŠ¨è·å¾—äº†çˆ¶ç±»çš„æ‰€æœ‰å­—æ®µ, ä¸¥ç¦å®šä¹‰ä¸çˆ¶ç±»é‡åçš„å­—æ®µ! 

### ç»§æ‰¿æ ‘

æŸä¸ªç±»æ²¡æœ‰å†™ `extends` çš„ç±»ä¼šè¢«è§†ä¸ºç»§æ‰¿è‡ª `Object`. å³é™¤äº†`Object`, æ¯ä¸ªç±»éƒ½ä¼šç»§æ‰¿è‡ªæŸä¸ªç±». 

```mermaid
classDiagram
    Object <|-- Person
    Person <|-- Student
```

> ğŸ“Œå­ç±»åªå…è®¸ç»§æ‰¿ä¸€ä¸ªçˆ¶ç±», é™¤äº† `Object`å¤–, æ‰€æœ‰ç±»æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªçˆ¶ç±». 

### protected

å­ç±»**æ— æ³•è®¿é—®**çˆ¶ç±»çš„`private`å­—æ®µæˆ–è€…`private`æ–¹æ³•. 

è‹¥æŠŠ `private`ç±»å‹æ”¹ä¸º `protected`ç±»å‹, åˆ™ `protected`ç±»å‹çš„å­—æ®µå’Œæ–¹æ³•å¯ä»¥è¢«è‡ªå·±, å­ç±»å’Œå­å­™ç±»æ‰€ç»§æ‰¿. **å³å¯ä»¥æŠŠå­—æ®µå’Œæ–¹æ³•çš„è®¿é—®æƒé™æ§åˆ¶åœ¨ç»§æ‰¿æ ‘å†…éƒ¨**. 

### super

è‹¥çˆ¶ç±»æ²¡æœ‰`æ— å‚æ„é€ æ–¹æ³•`, åˆ™å­ç±»è¦æ˜¾å¼åœ°è°ƒç”¨çˆ¶ç±»çš„æ„é€ æ–¹æ³•, å¹¶ç»™å‡ºå‚æ•°ä»¥ä¾¿è®©ç¼–è¯‘å™¨å®šä½åˆ°çˆ¶ç±»çš„ä¸€ä¸ªåˆé€‚çš„æ„é€ æ–¹æ³•. 

> ğŸ“Œå­ç±»ä¸ä¼šç»§æ‰¿ä»»ä½•çˆ¶ç±»çš„æ„é€ æ–¹æ³•ã€‚å­ç±»é»˜è®¤çš„æ„é€ æ–¹æ³•æ˜¯ç¼–è¯‘å™¨è‡ªåŠ¨ç”Ÿæˆçš„ï¼Œä¸æ˜¯ç»§æ‰¿çš„ã€‚

### é˜»æ­¢ç»§æ‰¿

ä½¿ç”¨ `final`å…³é”®å­—ä¿®é¥°çš„ç±»ä¸å…è®¸è¢«ç»§æ‰¿. 

### å‘ä¸Šè½¬å‹

ç±»ä¼¼`Person p = new Student();`è¿™æ ·çš„å£°æ˜æ–¹å¼, å³ä½¿ç”¨çˆ¶ç±»ç±»å‹çš„å˜é‡æŒ‡å‘å­ç±»ç±»å‹çš„å®ä¾‹

ä½†æ˜¯å¯¹ `p`èƒ½ä½¿ç”¨çš„æ–¹æ³•éƒ½åªå±€é™äº `Person`ç±»çš„æ–¹æ³•, æ— æ³•è°ƒç”¨ `Student`ç±»çš„æ–¹æ³•. 

### å‘ä¸‹è½¬å‹

ç±»ä¼¼`Person p = new Student();`è¿™æ ·çš„å‘ä¸Šè½¬å‹å£°æ˜æ–¹å¼, å¯ä»¥ç”¨ `Student s = (Student) p;`è¿™æ ·çš„å¼ºåˆ¶è½¬æ¢å®ç°å‘ä¸‹è½¬å‹, å³å°†çˆ¶ç±»ç±»å‹çš„å˜é‡è½¬ä¸ºå­ç±»ç±»å‹. å…¶å®è¿™åº”è¯¥ç®—ä¸€ç§ "çº æ­£", å°†åŸæœ¬ä¸ä¸€è‡´çš„æŒ‡å‘çº æ­£å›æ¥. 

è€Œç±»ä¼¼ `Person p = new Person();`è¿™ç§å˜é‡ä¸å®ä¾‹å‡ä¸ºçˆ¶ç±»çš„æƒ…å†µ, æ— æ³•é€šè¿‡ `Student s = (Student) p;`è¿™ç§æ–¹å¼è½¬ä¸ºå­ç±»ç±»å‹, ä¼šæŠ¥é”™`runtime error! ClassCastException!`. æ¯•ç«Ÿå˜é‡ `p`æœ¬èº«ä¸å…¶æŒ‡å‘çš„å®ä¾‹å‡ä¸ºçˆ¶ç±», ä¸å«æœ‰å­ç±»çš„åŠŸèƒ½, è‡ªç„¶æ— æ³•å¼ºè½¬ä¸ºå­ç±». 

ä¸ºäº†é¿å…å‘ä¸‹è½¬å‹å‡ºé”™, å¯ä»¥ç”¨ `instanceof`å…³é”®å­—æ¥åˆ¤æ–­ `å˜é‡A`æ˜¯å¦æ˜¯ `ç±»Bæœ¬èº«æˆ–å…¶å­ç±»`çš„å®ä¾‹. 

```java
Person p = new Person();
System.out.println(p instanceof Person); // true
System.out.println(p instanceof Student); // false

Student s = new Student();
System.out.println(s instanceof Person); // true
System.out.println(s instanceof Student); // true

Student n = null;
System.out.println(n instanceof Student); // false
```

## å¤šæ€

### è¦†å†™ `Override`

å­ç±»ä¸­å®šä¹‰ä¸€ä¸ªä¸çˆ¶ç±»çš„æ–¹æ³•ç­¾åå®Œå…¨ç›¸åŒçš„æ–¹æ³•, å«åšè¦†å†™. 

æ–¹æ³•ç­¾åç›¸åŒ: æŒ‡çš„æ˜¯æ–¹æ³•åç›¸åŒ, æ–¹æ³•å‚æ•°ç›¸åŒ, æ–¹æ³•è¿”å›å€¼ç›¸åŒ. 

> ğŸ“Œæ–¹æ³•åç›¸åŒ, æ–¹æ³•å‚æ•°ç›¸åŒ, ä½†æ–¹æ³•è¿”å›å€¼ä¸åŒ, ä¹Ÿæ˜¯ä¸åŒçš„æ–¹æ³•. 
> è¿™ç§æƒ…å†µä¼šæŠ¥é”™, å› ä¸ºä¸çŸ¥é“è°ƒç”¨æ–¹éœ€è¦å“ªç§è¿”å›ç±»å‹. 

åœ¨å‘ä¸Šè½¬å‹ä¾‹å­ä¸­: `Person p = new Student();`è‹¥çˆ¶ç±» `Person`æœ‰æ–¹æ³• `run()`, å­ç±» `Student`å¯¹å…¶è¦†å†™åå†æ‰§è¡Œ `p.run()`, å°†ä¼šè¿è¡Œå­ç±»çš„ `run()`æ–¹æ³•, è€Œä¸æ˜¯çˆ¶ç±»çš„. 

å³: Javaçš„å®ä¾‹æ–¹æ³•è°ƒç”¨æ˜¯åŸºäºè¿è¡Œæ—¶çš„**å®é™…ç±»å‹**çš„åŠ¨æ€è°ƒç”¨, è€Œéå˜é‡çš„å£°æ˜ç±»å‹. `å¼•ç”¨ç±»å‹ p = new å®é™…ç±»å‹;`

ä¸€ä¸ªæ–¹æ³•çš„å½¢å‚å¯ä»¥åªå†™ä¸€ç§å¼•ç”¨ç±»å‹, è€Œä¼ å…¥å…¶å­ç±»çš„å®é™…ç±»å‹. å¦‚: 

```java
public static double totalTax(Income... incomes) {
    double total = 0;
    for (Income income : incomes) {
        total += income.getTax();
    }
    return total;
}
```

åœ¨æ­¤æ–¹æ³•ä¸­å½¢å¼å‚æ•°æ˜¯ `Income`ç±»å‹çš„å¯å˜å‚æ•°, ä½†æ˜¯ä¼ å…¥çš„å®é™…ç±»å‹å¯ä»¥ä¸º `Income`, `Salary`å’Œ `StateCouncilSpecialAllowance`ç­‰ `Income`çš„å­ç±». 

ä¹Ÿå°±æ˜¯è¯´åœ¨ä¼ å…¥çš„æ—¶å€™æ‰§è¡Œäº†å‘ä¸Šè½¬å‹: å˜é‡ `incomes`æ˜¯ `Income`ç±»å‹, ä½†æ˜¯å¯ä»¥æŒ‡å‘å…¶å­ç±»ç±»å‹. å› æ­¤å¯ä»¥è°ƒç”¨è¢«å­ç±»è¦†å†™åçš„ `getTax()`æ–¹æ³•. 

å¤šæ€å…è®¸æ·»åŠ æ›´å¤šç±»å‹çš„å­ç±»å®ç°åŠŸèƒ½æ‰©å±•, ä¸”ä¸éœ€è¦ä¿®æ”¹åŸºäºçˆ¶ç±»çš„ä»£ç . 

## æŠ½è±¡ç±»

æŠ½è±¡ç±»å®šä¹‰äº†è§„èŒƒ. å®ƒåªèƒ½ç”¨äºè¢«ç»§æ‰¿; åªå®šä¹‰æ–¹æ³•, ä½†ä¸å†™æ–¹æ³•çš„å…·ä½“å®ç°; æ— æ³•è¢«å®ä¾‹åŒ–. 

### é¢å‘æŠ½è±¡ç¼–ç¨‹

```java
abstract class Person {
    public abstract void run();
}

class Student extends Person {
    @Override
    public void run() {
        System.out.println("Student.run");
    }
}

class Teacher extends Person {
    @Override
    public void run() {
        System.out.println("Teacher.run");
    }
}

```

è‹¥**é€šè¿‡æŠ½è±¡ç±»å»å¼•ç”¨å…·ä½“çš„å­ç±»ç¤ºä¾‹**çš„æ–¹å¼å«åšé¢å‘æŠ½è±¡ç¼–ç¨‹: 

```java
// æŠ½è±¡ç±»å‹çš„å˜é‡æŒ‡å‘å…·ä½“å­ç±»çš„å®ä¾‹
Person s = new Student();
Person t = new Teacher();
```

> ğŸ“Œå°½é‡å¼•ç”¨é«˜å±‚ç±»å‹, é¿å…å¼•ç”¨å®é™…å­ç±»å‹. 
>
> é¢å‘æŠ½è±¡ç¼–ç¨‹çš„æœ¬è´¨å°±æ˜¯: 
> 1\. ä¸Šå±‚ä»£ç åªå®šä¹‰è§„èŒƒ (ä¾‹å¦‚ï¼šabstract class Person); 
> 2\. ä¸éœ€è¦å­ç±»å°±å¯ä»¥å®ç°ä¸šåŠ¡é€»è¾‘ (æ­£å¸¸ç¼–è¯‘); 
> 3\. å…·ä½“çš„ä¸šåŠ¡é€»è¾‘ç”±ä¸åŒçš„å­ç±»å®ç°, è°ƒç”¨è€…å¹¶ä¸å…³å¿ƒ. 

## æ¥å£

è‹¥ä¸€ä¸ªæŠ½è±¡ç±»**æ²¡æœ‰å­—æ®µ**, å…¨æ˜¯æŠ½è±¡æ–¹æ³•, åˆ™åº”è¯¥å°†å…¶å†™ä¸º `æ¥å£ interface`

```java
public interface Person {
    void run();
    String getName();
}

```

æ¥å£å®šä¹‰çš„æ‰€æœ‰æ–¹æ³•é»˜è®¤éƒ½æ˜¯`public abstract`, å› æ­¤å†™ä¸å†™`public abstract`éƒ½ä¸€æ ·. 

ä¸€ä¸ªç±»åªèƒ½ç»§æ‰¿è‡ªå¦ä¸€ä¸ªç±», ä½†æ˜¯**ä¸€ä¸ªç±»å¯ä»¥å®ç°å¤šä¸ª** .

```java
class Student implements Person, Hello { 
    // å®ç°äº†ä¸¤ä¸ªinterface
    ...
}
```

## é™æ€å­—æ®µå’Œé™æ€æ–¹æ³•

### é™æ€å­—æ®µ

ä¸€ä¸ªç±»çš„æ‰€æœ‰å®ä¾‹å…±äº«çš„å­—æ®µ, å«åš `é™æ€å­—æ®µ`

```java
public class Person {
    // num å­—æ®µä¸ºé™æ€å­—æ®µ
    public static int num;
    ...
}
```

åœ¨ä¸Šè¿°ä»£ç ä¸­, ç±» `Person`çš„æ‰€æœ‰å®ä¾‹éƒ½å¯ä»¥è®¿é—®åŒä¸€ä¸ªé™æ€å­—æ®µ `num`. 

```java
Person eugene = new Person();
// ä¸€ä¸‹ä¸¤ç§è®¿é—®æ–¹å¼å‡åˆæ³•
// ä½†æ˜¯æ›´æ¨èç¬¬äºŒç§æ–¹å¼. 
eugene.num = 10;
Person.num = 10;
```

è¿™å°±åƒ`Person`çš„æ‰€æœ‰å®ä¾‹ç»„æˆä¸€ä¸ªç­çº§, å…¶ä¸­çš„æ‰€æœ‰å­¦ç”Ÿ**å…±äº«åŒä¸€å—é»‘æ¿**. 

### é™æ€æ–¹æ³•

è°ƒç”¨ `å®ä¾‹æ–¹æ³•`éœ€è¦é€šè¿‡ä¸€ä¸ªå®ä¾‹å˜é‡, è€Œ `é™æ€æ–¹æ³•`åªé€šè¿‡ç±»åå°±å¯ä»¥è°ƒç”¨. 

`é™æ€æ–¹æ³•`å±äºç±», ä¸å±äºå®ä¾‹. æ‰€ä»¥åœ¨**é™æ€æ–¹æ³•å†…éƒ¨æ— æ³•è®¿é—®****å˜é‡å’Œå®ä¾‹å­—æ®µ**, åªèƒ½è®¿é—®é™æ€å­—æ®µ. 

ç›¸å½“äºå…¶å®ƒè¯­è¨€çš„ `å‘½åç©ºé—´.å‡½æ•°`

### æ¥å£çš„é™æ€å­—æ®µ

è™½ç„¶ `interface`ä¸èƒ½å®šä¹‰å®ä¾‹å­—æ®µ, ä½†æ˜¯å¯ä»¥å®šä¹‰é™æ€å­—æ®µ, ä½†**å…¶é™æ€å­—æ®µå¿…é¡»ä¸º****ç±»å‹**. 

```java
public interface Person {
    public static final int AGE = 0;
    int SCORE = 1;
}
```

ç”±äºæ¥å£çš„é™æ€å­—æ®µå¿…é¡»ä¸º `public static final`ç±»å‹, æ‰€ä»¥å†™ä¸å†™ä¿®é¥°ç¬¦éƒ½ä¸€æ ·. 

## åŒ…

Javaç”¨`package`æ¥è§£å†³å‘½åå†²çª. åŒ…å®šä¹‰äº†ä¸€ä¸ªå‘½åç©ºé—´, 

### åŒ…ä½œç”¨åŸŸ

ä¸ç”¨ `public`, `protected` å’Œ `private` ä¿®é¥°çš„å­—æ®µä¸æ–¹æ³•å°±æ˜¯åŒ…ä½œç”¨åŸŸ. 

åœ¨åŒä¸€ä¸ªpackageå†…çš„classå¯ä»¥è®¿é—®åŒ…ä½œç”¨åŸŸçš„fieldå’Œmethod. 

å³: ä¸ç”¨ `public`, `protected` å’Œ `private` ä¿®é¥°çš„å­—æ®µä¸æ–¹æ³•ç›¸å½“äºåªèƒ½åœ¨åŒ…å†…è®¿é—®çš„ `public`, åœ¨åŒ…å¤–ä¸èƒ½è®¿é—®çš„ `private`. 

### å¯¼åŒ…

å‡è®¾å°æ˜çš„ `ming.Person` ç±»æƒ³è¦è°ƒç”¨å°å†›çš„ `mr.jun.Arrays` ç±»: 

1.  è°ƒç”¨æ—¶å†™å‡ºå®Œæ•´ç±»å. 

    ```java
    package ming;
    public class Person{
        public void run(){
            // å†™å…¨ç±»åè°ƒç”¨
            mr.jun.Arrays arrays = new mr.jun.Arrays();
        }
    }
    ```

2.  ç”¨`import`å¯¼å…¥. 

    1.  å¯¼å…¥ç‰¹å®šçš„æŸä¸ªclass

        ```java
        // å¯¼å…¥
        import mr.jun.Arrays;

        ...
            // è°ƒç”¨
            Arrays arrays = new Arrays();

        ```

    2.  å¯¼å…¥æŸä¸ªpackageä¸‹æ‰€æœ‰çš„class

        ```java
        import mr.jun.*;
        ...
            Arrays arrays = new Arrays();
        
        ```

        ä½†æ˜¯å½“å¯¼å…¥çš„åŒ…è¿‡å¤šå, è¿™ç§æ–¹å¼éš¾ä»¥ä¸€çœ¼çœ‹å‡ºæŸä¸ªclasså±äºå“ªä¸ªpackage. 

3.  å¯¼å…¥ç±»çš„é™æ€å­—æ®µå’Œé™æ€æ–¹æ³•. 

    ```java
    import static java.lang.System.*;
    ...
        out.println("Hello, Java! ");
    
    ```

### åŒ…çš„ä¼˜å…ˆçº§

*   è‹¥å¯¼å…¥çš„æ˜¯å®Œæ•´ç±»åï¼Œ åˆ™ç›´æ¥æ ¹æ®ç±»åè°ƒç”¨æ­¤class.

*   è‹¥æ˜¯ç®€å•ç±»å: 

    1.  æŸ¥æ‰¾å½“å‰packageä¸‹æ˜¯å¦å­˜åœ¨æ­¤class; 

    2.  æŸ¥æ‰¾importå¯¼å…¥çš„åŒ…ä¸­æ˜¯å¦å­˜åœ¨æ­¤class; 

    3.  æŸ¥æ‰¾ `java.lang` åŒ…ä¸­æ˜¯å¦å­˜åœ¨æ­¤class. 

> ğŸ“Œä¹Ÿå°±æ˜¯è¯´: ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬ `import å½“å‰packageä¸‹çš„class` å’Œè‡ªåŠ¨ `import java.lang.*;`

### é¿å…å‘½åå†²çª

å¸¸ç”¨**å€’ç½®çš„åŸŸå**æ¥ä¿æŒå”¯ä¸€æ€§. 

```java
import org.apache; 
import org.apache.commons.log;
import com.liaoxuefeng.sample;
```

å­åŒ…å¯ä»¥å®‰è£…åŠŸèƒ½æ¥å‘½å. 

## ä½œç”¨åŸŸ

`public`, `protected` å’Œ `private` ä¿®é¥°ç¬¦ç”¨æ¥é™å®šè®¿é—®ä½œç”¨åŸŸ. 

### `public`

`public` ç±»å‹çš„classå’Œinterfaceå¯ä»¥è¢«å…¶å®ƒä»»ä½•classè®¿é—®. 

è‹¥å…¶å®ƒclassèƒ½è®¿é—®class A, é‚£ä¹ˆå…¶å®ƒclassä¹Ÿèƒ½è®¿é—®Açš„ `public field`å’Œ `public method`. 

### `private`

`private` ç±»å‹çš„fieldå’Œmethodä¸èƒ½è¢«å…¶å®ƒclassè®¿é—®. å³privateå°†è¢«ä¿®é¥°çš„fieldæˆ–methodçš„è®¿é—®æƒé™åˆ¶åœ¨äº†classå†…éƒ¨. 

### `protected`

ä¸èƒ½è¢«å®ä¾‹ç›´æ¥è®¿é—®, ä½†æ˜¯å¯ä»¥è¢«å­ç±»ç›´æ¥è®¿é—®. æƒé™é«˜äº `public` ä½äº `private`. 

### `final`

`final` ç±»å‹çš„ç±»**ä¸èƒ½è¢«ç»§æ‰¿**; 

`final` ç±»å‹çš„æ–¹æ³•**ä¸èƒ½è¢«è¦†å†™**. 

`final` ç±»å‹çš„å˜é‡æ˜¯**å¸¸é‡**. 

## å†…éƒ¨ç±»

### æˆå‘˜å†…éƒ¨ç±»

`Inner Class` æ˜¯è¢«å®šä¹‰åœ¨ä¸€ä¸ªç±»å†…éƒ¨çš„ `æˆå‘˜å†…éƒ¨ç±»`. 

```java
class Outer {
    class Inner {
        // å®šä¹‰äº†ä¸€ä¸ªInner Class
    }
}
```

æˆå‘˜å†…éƒ¨ç±»å¯ä»¥**æ— é™åˆ¶åœ°è®¿é—®å¤–éƒ¨ç±»çš„æ‰€æœ‰å­—æ®µä¸æ–¹æ³•**. 

åˆ›å»ºä¸€ä¸ªå†…éƒ¨ç±»ç¤ºä¾‹: 

```java
Outer out = new Outer();
Outer.Inner in = out.new Inner();
```

æˆ–è€…ä¸ç”¨åˆ›å»º `Outer` å®ä¾‹, ç›´æ¥åˆ›å»º `Inner` å®ä¾‹: 

`Outer.Inner in = new Outer().new Inner();`

#### å¤–éƒ¨ç±»è®¿é—®å†…éƒ¨ç±»

å¤–éƒ¨ç±»æƒ³è¦è®¿é—®å†…éƒ¨ç±»éœ€è¦**å®ä¾‹åŒ–ä¸€ä¸ªå†…éƒ¨ç±»**. 

```java
public class Outer {
    public Outer() {
        // å®ä¾‹åŒ–ä¸€ä¸ªå†…éƒ¨ç±»
        new Inner().hello();
    }
    public class Inner {
        public void hello() {
            System.out.println("Inner.hello");
        }
    }
}

public class Main {
    public static void main(String[] args) {
        // ä¼šæ‰“å° "Inner.hello"
        Outer outer = new Outer();
    }
}

```

### åŒ¿åç±»`Anonymous Class`

åœ¨æ–¹æ³•å†…éƒ¨**è°ƒç”¨çš„æ—¶å€™æ‰å®ç°**çš„ç±». 

#### åŒ¿åå†…éƒ¨ç±»çš„åŸºæœ¬å®ç°

1.  åŒ¿åå®ç°æ¥å£

2.  åŒ¿åå®ç°æŠ½è±¡ç±»

3.  åŒ¿åå®ç° `Thread`ç±»å’Œ `Runnable`ç±»

å…¶å® 1, 2 éƒ½å¯å½’çº³ä¸º: å°†å­ç±»ä¸Šè½¬å‹ä¸ºçˆ¶ç±»ç±»å‹. 

```java
interface SayHelloInterface {
    void hello();
}

abstract class SayHelloAbstract {
    void hello() {
        System.out.println("hello");
    }
}

class SayHelloClass implements SayHelloInterface {
    @Override
    public void hello() {
        System.out.println("ä¸Šè½¬å‹ä¸ºæ¥å£å®ç°åŒ¿åç±»");
    }
}

class SayHelloClass_2 extends SayHelloAbstract {
    @Override
    void hello() {
        System.out.println("ä¸Šè½¬å‹ä¸ºæŠ½è±¡ç±»å®ç°åŒ¿åç±»");
    }
}

public class AnonymousClass {
    public SayHelloInterface helloInterface;
    public SayHelloAbstract helloAbstract;

    public AnonymousClass() {
        // åœ¨å®ä¾‹åŒ–æ—¶å®ç°æ¥å£
        // è¢«å®ç°çš„ç±»é»˜è®¤ implements äº†æ­¤æ¥å£, ä½†æ˜¯å®ƒæ²¡æœ‰åå­—
        helloInterface = new SayHelloInterface() {
            @Override
            public void hello() {
                System.out.println("åŒ¿åå®ç° Interface. ");
            }
        };
        // åœ¨å®ä¾‹åŒ–æ—¶å®ç°æŠ½è±¡ç±»
        // è¢«å®ç°çš„ç±»é»˜è®¤ extends äº†æ­¤æŠ½è±¡ç±», ä½†æ˜¯å®ƒæ²¡æœ‰åå­—
        helloAbstract = new SayHelloAbstract() {
            @Override
            void hello() {
                System.out.println("åŒ¿åå®ç° Abstract. ");
            }
        };
        // ä¸Šè½¬å‹
        // å°†ç»§æ‰¿äº†æ¥å£æˆ–æŠ½è±¡ç±»çš„å­ç±»ä¸Šè½¬å‹ä¸ºæ¥å£æˆ–æŠ½è±¡ç±»
        SayHelloAbstract sayHelloAbstract = new SayHelloClass_2();
        SayHelloInterface sayHelloInterface = new SayHelloClass();
        // åŒ¿åå®ç° Thread ç±»
        Thread thread = new Thread() {
            @Override
            public void run() {
                System.out.println("åŒ¿åå®ç° Thread ç±»");
            }
        };
        // åŒ¿åå®ç° Runnable ç±»
        Runnable runnable = new Runnable() {
            @Override
            public void run() {
                System.out.println("åŒ¿åå®ç° Runnable ç±»");
            }
        };
        Thread t = new Thread(runnable);

        helloInterface.hello();
        helloAbstract.hello();
        sayHelloAbstract.hello();
        sayHelloInterface.hello();
        thread.start();
        t.start();
    }
}
```

### é™æ€å†…éƒ¨ç±» (Static Nested Class)

å®ƒä¸æˆå‘˜å†…éƒ¨ç±»ç›¸ä¼¼, ä¸è¿‡ä½¿ç”¨ `static` ä¿®é¥°. 

```java
public class Main {
    public static void main(String[] args) {
        StaticNested.InnerStaticNested innerStaticNested = new StaticNested.InnerStaticNested();
        innerStaticNested.hello();
    }
}

class StaticNested {
    private static String NAME = "StaticNested".toUpperCase();
    private String name;

    public StaticNested(String name) {
        this.name = name;
    }

    public static class InnerStaticNested {
        public void hello() {
            System.out.println("Hello, " + StaticNested.NAME);
        }
    }
}

```

# `classpath`ä¸ `jar`

`classpath`æ˜¯ `JVM` ä½¿ç”¨åˆ°çš„ç¯å¢ƒå˜é‡, `JVM`å¯ä»¥æ®æ­¤å»å¯»æ‰¾ç›®æ ‡ `class`. 

`classpath`çš„è®¾å®šæ–¹æ³•: 

1.  å¯åŠ¨ `JVM` æ—¶è®¾ç½® `classpath`. (æ¨èåšæ³•)

    `java -classpath .;C:\work\project1\bin;C:\shared abc.xyz.Hello`

    æˆ–è€…ä½¿ç”¨ `-cp` çŸ­å‚æ•°

    `java -cp .;C:\work\project1\bin;C:\shared abc.xyz.Hello`

2.  åœ¨ç³»ç»Ÿç¯å¢ƒå˜é‡è®¾ç½® `classpath`. (ä¸æ¨è)

è‹¥æ²¡æœ‰è®¾ç½®ç³»ç»Ÿç¯å¢ƒå˜é‡, ä¹Ÿæ²¡æœ‰ä¼ å…¥ `-cp` å‚æ•°, åˆ™ `JVM` é»˜è®¤çš„ `classpath`ä¸ºå½“å‰ç›®å½•. 
